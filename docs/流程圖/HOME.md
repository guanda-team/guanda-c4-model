# æµç¨‹åœ–

# è»Ÿé«”å°ˆæ¡ˆåŒæ­¥

## ğŸ”¥ è»Ÿé«”å•Ÿå‹•æ™‚

```mermaid
sequenceDiagram
  actor ä½¿ç”¨è€…
  Note over è»Ÿé«”: è»Ÿé«”å·²å•Ÿå‹•ä¸¦é€£ä¸ŠServer

  è»Ÿé«” ->> Server: å•Ÿå‹•å¾Œè©¢å•æ˜¯å¦æœ‰å°ˆæ¡ˆéœ€åŒæ­¥
  Server ->> è»Ÿé«”: å›æ‡‰åŒæ­¥è³‡è¨Š

  alt ç„¡å°ˆæ¡ˆéœ€åŒæ­¥
    è»Ÿé«” ->> è»Ÿé«”: çµæŸåŒæ­¥æµç¨‹
  else æœ‰å°ˆæ¡ˆéœ€åŒæ­¥
    è»Ÿé«” ->> ä½¿ç”¨è€…: è©¢å•ä½¿ç”¨è€…æ˜¯å¦åŒæ„ç«‹å³åŒæ­¥å°ˆæ¡ˆ
    alt ä½¿ç”¨è€…ä¸åŒæ„åŒæ­¥å°ˆæ¡ˆ
      ä½¿ç”¨è€… ->> ä½¿ç”¨è€…: çµæŸåŒæ­¥æµç¨‹
    else ä½¿ç”¨è€…åŒæ„åŒæ­¥å°ˆæ¡ˆ
      ä½¿ç”¨è€… ->> è»Ÿé«”: åŒæ„å¾Œï¼Œé–‹å§‹åŒæ­¥
      è»Ÿé«” ->> è»Ÿé«”: åŒæ­¥ä¸¦åœ¨æœ¬åœ°å„²å­˜å°ˆæ¡ˆ
    end
  end
```

---

## ğŸ”¥ è»Ÿé«”æ”¶åˆ°åŒæ­¥è³‡è¨Šæ™‚

```mermaid
sequenceDiagram
  actor ä½¿ç”¨è€…
  Note over è»Ÿé«”: è»Ÿé«”å·²å•Ÿå‹•ä¸¦é€£ä¸ŠServer

  loop æ¯ç•¶æœ‰å°ˆæ¡ˆéœ€åŒæ­¥æ™‚
    Server ->> è»Ÿé«”: é€šçŸ¥æœ‰æ–°çš„åŒæ­¥è³‡è¨Š
    è»Ÿé«” ->> ä½¿ç”¨è€…: è©¢å•ä½¿ç”¨è€…æ˜¯å¦è¦åŒæ­¥

    alt ä½¿ç”¨è€…æ‹’çµ•åŒæ­¥
      ä½¿ç”¨è€… ->> ä½¿ç”¨è€…:    ç•¥éæœ¬æ¬¡åŒæ­¥
    else ä½¿ç”¨è€…åŒæ„åŒæ­¥
      ä½¿ç”¨è€… ->> è»Ÿé«”: åŒæ„å¾Œï¼Œé–‹å§‹åŒæ­¥
      è»Ÿé«” ->> è»Ÿé«”: åŒæ­¥
    end
  end
```

---

## ğŸ”¥ è»Ÿé«”å­˜æª”æ™‚

```mermaid
sequenceDiagram
  actor ä½¿ç”¨è€…
  Note over è»Ÿé«”: è»Ÿé«”å·²å•Ÿå‹•ä¸¦é€£ä¸ŠServer

  ä½¿ç”¨è€… ->> è»Ÿé«”: å­˜æª”/å¦å­˜æ–°æª”
  è»Ÿé«” ->> Server: é€šçŸ¥Serveréœ€åŒæ­¥
```

---

## ğŸ”¥ æ©Ÿå°è»Ÿé«”å°ˆæ¡ˆåŒæ­¥

```mermaid
sequenceDiagram
  actor ä½¿ç”¨è€…

  æ©Ÿå°è»Ÿé«” ->> Server: å•Ÿå‹•å¾Œè©¢å•æ˜¯å¦æœ‰å°ˆæ¡ˆéœ€åŒæ­¥
  Server ->> æ©Ÿå°è»Ÿé«”: å›æ‡‰åŒæ­¥è³‡è¨Š
  æ©Ÿå°è»Ÿé«” ->> ä½¿ç”¨è€…: è‹¥æœ‰çš„è©±ï¼Œè©¢å•ä½¿ç”¨è€…
  ä½¿ç”¨è€… ->> æ©Ÿå°è»Ÿé«”: åŒæ„å¾Œï¼Œé–‹å§‹åŒæ­¥
  æ©Ÿå°è»Ÿé«” ->> æ©Ÿå°è»Ÿé«”: åŒæ­¥

  loop æ¯ç•¶æœ‰å°ˆæ¡ˆéœ€åŒæ­¥æ™‚
    Server ->> æ©Ÿå°è»Ÿé«”: é€šçŸ¥æœ‰æ–°çš„åŒæ­¥è³‡è¨Š
    æ©Ÿå°è»Ÿé«” ->> ä½¿ç”¨è€…: è‹¥æœ‰çš„è©±ï¼Œè©¢å•ä½¿ç”¨è€…
    ä½¿ç”¨è€… ->> æ©Ÿå°è»Ÿé«”: åŒæ„å¾Œï¼Œé–‹å§‹åŒæ­¥
    æ©Ÿå°è»Ÿé«” ->> æ©Ÿå°è»Ÿé«”: åŒæ­¥
  end

  loop æ¯ç•¶å­˜æª”æ™‚
    æ©Ÿå°è»Ÿé«” ->> Server: é€šçŸ¥Serveréœ€å‚™ä»½
  end
```


# è»Ÿé«”æ›´æ–°æµç¨‹

## ğŸ”¥ è»Ÿé«”æ›´æ–°æµç¨‹

```mermaid
sequenceDiagram
  actor ä½¿ç”¨è€…

  è»Ÿé«” ->> Server: é€šçŸ¥Serverè»Ÿé«”å·²å•Ÿå‹•ï¼Œä¸¦å¸¶ä¸Šç¾åœ¨ç‰ˆè™Ÿ
  Server ->> è»Ÿé«”: å›æ‡‰ç‰ˆæœ¬è³‡è¨Š
  alt ç„¡æ–°ç‰ˆæœ¬
    è»Ÿé«” ->> è»Ÿé«”: çµæŸæ›´æ–°æµç¨‹
  else æœ‰æ–°ç‰ˆæœ¬
    è»Ÿé«” ->> ä½¿ç”¨è€…: è©¢å•ä½¿ç”¨è€…æ˜¯å¦åŒæ„ç«‹å³ä¸‹è¼‰æ›´æ–°

    alt ä½¿ç”¨è€…ä¸åŒæ„ä¸‹è¼‰æ›´æ–°
      ä½¿ç”¨è€… ->> ä½¿ç”¨è€…: çµæŸæ›´æ–°æµç¨‹
    else ä½¿ç”¨è€…åŒæ„ä¸‹è¼‰æ›´æ–°
      ä½¿ç”¨è€… ->> è»Ÿé«”: åŒæ„å¾Œï¼Œè«‹Serverä¸‹è¼‰æ–°ç‰ˆæœ¬
      è»Ÿé«” ->> Server: é€šçŸ¥ä¸‹è¼‰æ–°ç‰ˆæœ¬
      Server ->> Server: ä¸‹è¼‰ä¸­
      Server ->> è»Ÿé«”: å›æ‡‰ä¸‹è¼‰è³‡è¨Šèˆ‡å®‰è£æª”
      Note over è»Ÿé«”: ä¸‹è¼‰å®Œç•¢ï¼Œé€²å…¥å®‰è£æµç¨‹
    end
  end
```

---

## ğŸ”¥ è»Ÿé«”å®‰è£æµç¨‹

```mermaid
sequenceDiagram
  actor ä½¿ç”¨è€…

  Note over è»Ÿé«”: æœ¬åœ°ç«¯æœ‰æ–°ç‰ˆå®‰è£æª”å¾Œ
  è»Ÿé«” ->> ä½¿ç”¨è€…: è©¢å•ä½¿ç”¨è€…æ˜¯å¦ç«‹åˆ»å®‰è£æ›´æ–°
  alt ä½¿ç”¨è€…ä¸åŒæ„å®‰è£æ›´æ–°
    ä½¿ç”¨è€… ->> ä½¿ç”¨è€…: çµæŸå®‰è£æµç¨‹
  else ä½¿ç”¨è€…åŒæ„å®‰è£æ›´æ–°
    ä½¿ç”¨è€… ->> è»Ÿé«”: å›æ‡‰å®‰è£æ›´æ–°
    è»Ÿé«” ->> å®‰è£åŠ©æ‰‹: é–‹å•Ÿå®‰è£åŠ©æ‰‹
    å®‰è£åŠ©æ‰‹ ->> è»Ÿé«”: é—œé–‰è»Ÿé«”
    å®‰è£åŠ©æ‰‹ ->> å®‰è£åŠ©æ‰‹: å®‰è£æ›´æ–°
    å®‰è£åŠ©æ‰‹ ->> è»Ÿé«”: é–‹å•Ÿè»Ÿé«”
  end
```


# è»Ÿé«”ç™»å…¥æµç¨‹

## ğŸ”¥ å–®æ©Ÿè»Ÿé«”ç™»å…¥

```mermaid
sequenceDiagram
  App ->> ERP: å°ERPç™»å…¥
  alt é©—è­‰å¤±æ•—
    ERP ->> App: ç™»å…¥å¤±æ•—
  else é©—è­‰æˆåŠŸ
    ERP ->> App: é©—è­‰æˆåŠŸä¸¦å–å¾—token
    Note right of App: é©—è­‰å®Œç•¢ï¼Œé–‹å§‹é€²è¡Œæ“ä½œ
    App ->> Appä¼ºæœå™¨: ä½¿ç”¨tokenæ“ä½œæ©Ÿå°
  end
```

---

## ğŸ”¥ æ©Ÿè¯ç¶²(å…§ç¶²)è»Ÿé«”ç™»å…¥

```mermaid
sequenceDiagram
  App ->> ERP: å°ERPç™»å…¥
  alt é©—è­‰å¤±æ•—
    ERP ->> App: ç™»å…¥å¤±æ•—
  else é©—è­‰æˆåŠŸ
    ERP ->> App: é©—è­‰æˆåŠŸä¸¦å–å¾—token

    Note right of App: é©—è­‰å®Œç•¢ï¼Œé–‹å§‹é€²è¡Œæ“ä½œ
    App ->> Server: å°‡tokenå‚³é€è‡³ä¸­å¤®ä¼ºæœå™¨
    Server ->> Appä¼ºæœå™¨: ä½¿ç”¨tokenæ“ä½œæ©Ÿå°
  end
```

---

## ğŸ”¥ æ©Ÿè¯ç¶²(å¤–ç¶²)è»Ÿé«”ç™»å…¥

```mermaid
sequenceDiagram
  App ->> ERP: å°ERPç™»å…¥
  alt é©—è­‰å¤±æ•—
    ERP ->> App: ç™»å…¥å¤±æ•—
  else é©—è­‰æˆåŠŸ
    ERP ->> App: é©—è­‰ä¸¦å–å¾—token
    App ->> Server: å°‡tokenå‚³é€è‡³ä¸­å¤®ä¼ºæœå™¨
    Server ->> ERP: é©—è­‰tokenè³‡è¨Š
    alt tokené©—è­‰å¤±æ•—
      ERP ->> Server: é©—è­‰å¤±æ•—
    else tokené©—è­‰æˆåŠŸ
      ERP ->> Server: é©—è­‰æˆåŠŸ
      Note right of ERP: é©—è­‰å®Œç•¢ï¼Œé–‹å§‹é€²è¡Œæ“ä½œ
      Server ->> Appä¼ºæœå™¨: ä½¿ç”¨tokenæ“ä½œæ©Ÿå°
    end
  end
```
